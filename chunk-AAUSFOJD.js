import{a as R,b as j}from"./chunk-7Y7O4CRB.js";import{a as z,b as _,f as k,g as A,h as G,j as O,k as W}from"./chunk-VFFUA34V.js";import{d as L,f as D}from"./chunk-UPX2NF3Z.js";import{Va as E,jb as c}from"./chunk-FQ7J7ZTL.js";import{$a as d,$b as x,Ab as C,Ba as r,Bc as T,Ca as s,Gc as y,Hc as S,Na as g,Nc as F,Ob as b,Pa as I,Qc as M,R as f,Ra as a,Yc as N,ab as n,bb as l,ca as h,ia as u,kb as v,sb as p,ub as m}from"./chunk-NE7DBUAQ.js";function $(i,w){i&1&&(d(0,"span",5),l(1,"app-loading",6),n()),i&2&&(r(),a("size",24))}function U(i,w){if(i&1&&(d(0,"mat-error"),p(1),n()),i&2){let e=v();r(),m(" ",e.getErrText()," ")}}var ae=(()=>{class i extends E{get fg(){return this.formWrapper.formGroup}get control(){return this.fg.get(this.fcName)}get formId(){return this.formWrapper.id||""}get invalid(){return this.isInvalid()}get disabled(){return!!this.control?.disabled}get id(){return this.elId||c.buildId(this.fcName,this.formId)}get canEditSelf(){return this.canEdit&&this.formWrapper.canEdit}constructor(e,o,t){super(),this.loadingService=e,this.cdRef=o,this.formWrapper=t,this.placeholder="",this.elId="",this.canEdit=!0,this.appearance="fill",this.isInvalid=()=>!!this.control&&this.control.invalid&&this.control.touched,this.isLoading=!1}ngOnInit(){c.updateStatusOnFormChange(this.fg,this.destroyed$,()=>this.changeControlEnabled())}ngOnChanges(e){e.elId&&this.elId&&this.initLoadingSubscription(),(e.fcName||e.canEdit)&&this.changeControlEnabled()}initLoadingSubscription(){this.loadingService.isLoadingById$(this.elId).pipe(f(this.destroyed$)).subscribe(e=>{this.isLoading=e,this.changeControlEnabled(),this.cdRef.detectChanges()})}changeControlEnabled(){!this.isLoading&&this.canEditSelf?this.control?.enable():this.control?.disable()}getErrText(){let e=Object.keys(this.control?.errors??[]);return j[e[0]]||"Invalid field"}static{this.\u0275fac=function(o){return new(o||i)(s(D),s(b),s(R))}}static{this.\u0275cmp=h({type:i,selectors:[["app-textarea"]],inputs:{fcName:"fcName",labelText:"labelText",errText:"errText",placeholder:"placeholder",elId:"elId",canEdit:"canEdit",appearance:"appearance",isInvalid:"isInvalid"},standalone:!0,features:[g,u,C],decls:7,vars:8,consts:[["autosize","cdkTextareaAutosize"],[1,"input-container",3,"appearance","formGroup"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","20",3,"formControlName","placeholder","id"],["class","input-loading-container",4,"ngIf"],[4,"ngIf"],[1,"input-loading-container"],[3,"size"]],template:function(o,t){o&1&&(d(0,"mat-form-field",1)(1,"mat-label"),p(2),n(),l(3,"textarea",2,0),I(5,$,2,1,"span",3)(6,U,2,1,"mat-error",4),n()),o&2&&(a("appearance",t.appearance)("formGroup",t.fg),r(2),m(" ",t.labelText," "),r(),a("formControlName",t.fcName)("placeholder",t.placeholder)("id",t.id),r(2),a("ngIf",t.isLoading),r(),a("ngIf",t.invalid&&!t.disabled))},dependencies:[x,N,T,y,S,F,M,A,k,z,_,W,O,G,L],changeDetection:0})}}return i})();export{ae as a};
