import{a as K,b as J}from"./chunk-7Y7O4CRB.js";import{a as V,b as $,c as U,f as A,g as B,j as q,k as H}from"./chunk-VFFUA34V.js";import{d as W,f as j}from"./chunk-UPX2NF3Z.js";import{Gb as R,Va as w,jb as g}from"./chunk-FQ7J7ZTL.js";import{$a as l,$b as P,Ab as M,Ba as o,Bc as N,Ca as c,Cb as k,Gc as T,Hc as L,Na as v,Nc as D,Ob as S,Pa as d,Qc as z,R as h,Ra as r,Yc as G,Zb as O,_b as F,ab as a,bb as x,ca as _,fb as E,ia as I,ib as f,ja as C,ka as b,kb as p,sa as y,sb as m,ub as u}from"./chunk-NE7DBUAQ.js";var X=t=>({"invalid-helper":t});function Y(t,s){if(t&1){let e=E();l(0,"app-icon",6),f("clicked",function(){C(e);let n=p();return b(n.labelIcon.onClick==null?null:n.labelIcon.onClick())}),a()}if(t&2){let e,i=p();r("icon",i.labelIcon.icon)("color",i.labelIcon.color)("size",(e=i.labelIcon.size)!==null&&e!==void 0?e:24)("clickable",!0)}}function Z(t,s){t&1&&(l(0,"span",7),x(1,"app-loading",8),a()),t&2&&(o(),r("size",24))}function ee(t,s){if(t&1&&(l(0,"mat-error"),m(1),a()),t&2){let e=p();o(),u(" ",e.getErrText()," ")}}function te(t,s){if(t&1&&(l(0,"li",11),m(1),a()),t&2){let e=s.$implicit,i=p(2);r("ngClass",k(2,X,i.invalid)),o(),u("- ",e,"")}}function ne(t,s){if(t&1&&(l(0,"small",9)(1,"ul"),d(2,te,2,4,"li",10),a()()),t&2){let e=p();o(2),r("ngForOf",e.helpers)}}var Me=(()=>{class t extends w{get formId(){return this.formWrapper.id||""}get fg(){return this.formWrapper.formGroup??null}get invalid(){return this.isInvalid()}get disabled(){return!!this.control?.disabled}get control(){return this.fg.controls[this.fcName]}get id(){return this.elId||g.buildId(this.fcName,this.formId)}get canEditSelf(){return this.canEdit&&this.formWrapper?.canEdit}constructor(e,i,n){super(),this.loadingService=e,this.cdRef=i,this.formWrapper=n,this.type="text",this.placeholder="",this.elId="",this.canEdit=!0,this.appearance="fill",this.isInvalid=()=>!!this.control&&this.control.invalid&&this.control.touched,this.keydownPressed=new y,this.isLoading=!1}ngOnInit(){g.updateStatusOnFormChange(this.fg,this.destroyed$,()=>this.changeControlEnabled())}ngOnChanges(e){e.elId&&this.elId&&this.initLoadingSubscription(),(e.fcName||e.canEdit)&&this.changeControlEnabled()}initLoadingSubscription(){this.loadingService.isLoadingById$(this.elId).pipe(h(this.destroyed$)).subscribe(e=>{this.isLoading=e,this.changeControlEnabled(),this.cdRef.detectChanges()})}changeControlEnabled(){!this.isLoading&&this.canEditSelf?this.control?.enable():this.control?.disable()}getErrText(){let e=Object.keys(this.control?.errors??[]);return J[e[0]]||"Invalid field"}static{this.\u0275fac=function(i){return new(i||t)(c(j),c(S),c(K))}}static{this.\u0275cmp=_({type:t,selectors:[["app-input"]],inputs:{fcName:"fcName",labelText:"labelText",labelIcon:"labelIcon",type:"type",helpers:"helpers",errText:"errText",placeholder:"placeholder",elId:"elId",canEdit:"canEdit",appearance:"appearance",isInvalid:"isInvalid"},outputs:{keydownPressed:"keydownPressed"},standalone:!0,features:[v,I,M],decls:8,vars:11,consts:[[1,"input-container",3,"appearance","formGroup"],["matInput","","onmousewheel","blur()",3,"keydown","type","formControlName","placeholder","id"],["matSuffix","",3,"icon","color","size","clickable","clicked",4,"ngIf"],["class","input-loading-container",4,"ngIf"],[4,"ngIf"],["class","helper",4,"ngIf"],["matSuffix","",3,"clicked","icon","color","size","clickable"],[1,"input-loading-container"],[3,"size"],[1,"helper"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,n){i&1&&(l(0,"mat-form-field",0)(1,"mat-label"),m(2),a(),l(3,"input",1),f("keydown",function(Q){return n.keydownPressed.emit(Q)}),a(),d(4,Y,1,4,"app-icon",2)(5,Z,2,1,"span",3)(6,ee,2,1,"mat-error",4),a(),d(7,ne,3,1,"small",5)),i&2&&(r("appearance",n.appearance)("formGroup",n.fg),o(2),u(" ",n.labelText," "),o(),r("type",n.type)("formControlName",n.fcName)("placeholder",n.placeholder)("id",n.id),o(),r("ngIf",n.labelIcon),o(),r("ngIf",n.isLoading),o(),r("ngIf",n.invalid&&!n.disabled&&!n.helpers),o(),r("ngIf",!!n.helpers&&!n.disabled))},dependencies:[B,A,V,$,U,G,N,T,L,D,z,H,q,P,R,W,F,O],styles:[".input-container[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-container[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.helper[_ngcontent-%COMP%]{display:block;color:#9ca3af;margin-bottom:1rem}.helper[_ngcontent-%COMP%]   .invalid-helper[_ngcontent-%COMP%]{color:var(--danger)}.helper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;margin-top:-1rem;padding-left:16px;list-style:none}.helper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.25rem}app-icon[_ngcontent-%COMP%]{margin-right:8px;cursor:pointer}"],changeDetection:0})}}return t})();export{Me as a};
