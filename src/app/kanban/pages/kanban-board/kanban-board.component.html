<!-- Formulario global para agregar tarea -->
<div class="new-task-form">
  <button *ngIf="!showGlobalTaskInput" (click)="openTaskInput()">
    + Nueva Tarea
  </button>

  <div *ngIf="showGlobalTaskInput" class="new-task-input">
    <input
      #taskInput
      [(ngModel)]="globalNewTaskTitle"
      placeholder="Título de la nueva tarea"
      (keydown.enter)="addGlobalTask()"
    />
    <button (click)="addGlobalTask()">Agregar</button>
    <button (click)="cancelGlobalTask()">Cancelar</button>
  </div>
</div>

<!-- Contenedor principal del tablero Kanban -->
<div cdkDropListGroup class="kanban-container">
  <div class="column" *ngFor="let column of columns; let colIndex = index">
    <h3>{{ column.title }}</h3>

    <div
      cdkDropList
      [id]="'column-' + colIndex"
      [cdkDropListData]="column.tasks"
      [cdkDropListConnectedTo]="connectedDropLists"
      class="task-list"
      (cdkDropListDropped)="drop($event)"
    >
      <div
        class="task-card"
        *ngFor="let task of column.tasks; let taskIndex = index"
        cdkDrag
      >
        {{ task.title }}
        <button class="delete-btn" (click)="deleteTask(colIndex, taskIndex)">✖</button>
      </div>
    </div>

  </div>
</div>
